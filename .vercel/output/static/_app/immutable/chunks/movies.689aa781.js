import{w as s}from"./index.09294a58.js";import{b as c,V as d}from"./Modal.93cf2df3.js";import{I}from"./scheduler.c4785dc3.js";const l=s([]),p=s(1),h=s([]),g=s(1),m=s(1),y=async(i="popular",a=!1)=>{const n=a?I(p)+1:1,o=`https://api.themoviedb.org/3/movie/${i}?language=en-US&page=${n}`;try{const e=await c.request({method:"GET",url:o,headers:{accept:"application/json",Authorization:`Bearer ${d}`}}),t=e.data.results;a?l.update(r=>[...r,...t]):l.set(t),p.set(e.data.page),m.set(e.data.total_pages)}catch(e){console.error(e)}},v=s(1),S=s(1),J=async(i,a=!1)=>{const n="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzMWViMzMwODNjYjZiNWYzYzllNWMzYjk4MDI0N2ViOSIsInN1YiI6IjYzOTNlMGRmYTBmMWEyMDA4NzM3ZTFmOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.t05hQyBl-PzrZPdgqQawnxWb0AIR40aBagYNIywe6ao",o=a?I(g)+1:1,e={method:"GET",url:`https://api.themoviedb.org/3/search/movie?query=${encodeURIComponent(i)}&language=en-US&page=${o}`,headers:{accept:"application/json",Authorization:`Bearer ${n}`}};try{const t=await c.request(e);let r=t.data.results;a?h.update(u=>[...u,...r]):h.set(r),g.set(t.data.page),m.set(t.data.total_pages)}catch(t){console.error(t)}},W=async(i,a=1)=>{const n="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzMWViMzMwODNjYjZiNWYzYzllNWMzYjk4MDI0N2ViOSIsInN1YiI6IjYzOTNlMGRmYTBmMWEyMDA4NzM3ZTFmOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.t05hQyBl-PzrZPdgqQawnxWb0AIR40aBagYNIywe6ao",o=[];for(let e=0;e<3;e++)o.push({method:"GET",url:`https://api.themoviedb.org/3/discover/movie?with_genres=${i}&language=en-US&page=${a+e}&with_original_language=en`,headers:{accept:"application/json",Authorization:`Bearer ${n}`}});try{return(await c.all(o.map(t=>c.request(t)))).reduce((t,r)=>t.concat(r.data.results),[])}catch(e){return console.error(e),[]}};export{p as a,W as b,v as c,S as d,h as e,J as f,y as g,l as m,g as s,m as t};
