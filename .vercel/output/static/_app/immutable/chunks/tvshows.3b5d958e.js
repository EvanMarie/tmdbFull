import{b as h,V as p}from"./Modal.6c76a5fc.js";import{w as l}from"./index.09294a58.js";import{I as g}from"./scheduler.c4785dc3.js";const i=l([]),c=l(1),u=l(1),f=async(o="top_rated",a=!1)=>{const s=a?g(c)+1:1,e=`https://api.themoviedb.org/3/tv/${o}?language=en-US&page=${s}`;try{const t=await h.request({method:"GET",url:e,headers:{accept:"application/json",Authorization:`Bearer ${p}`}}),r=t.data.results;a?(i.update(n=>[...n,...r]),c.update(n=>n+1)):(i.set(r),c.set(1)),u.set(t.data.total_pages)}catch(t){console.error(t)}},T=async(o,a=1)=>{const s=[];for(let e=0;e<3;e++)s.push({method:"GET",url:`https://api.themoviedb.org/3/discover/tv?with_genres=${o}&language=en-US&page=${a+e}&with_original_language=en`,headers:{accept:"application/json",Authorization:`Bearer ${p}`}});try{return(await h.all(s.map(t=>h.request(t)))).reduce((t,r)=>t.concat(r.data.results),[])}catch(e){return console.error(e),[]}};async function d(o,a=1,s=!1){try{const e=`https://api.themoviedb.org/3/search/tv?query=${o}&language=en-US&page=${a}`,t=await h.request({method:"GET",url:e,headers:{accept:"application/json",Authorization:`Bearer ${p}`}}),r=t.data.results;s?i.update(n=>n.concat(r)):i.set(r),u.set(t.data.total_pages),c.set(a)}catch(e){console.error(e)}}const v=o=>{c.update(a=>{const s=a+1;return d(o,s,!0),s})};export{c as a,u as b,T as c,f as g,v as l,d as s,i as t};
