import{b as p,V as d}from"./Modal.93cf2df3.js";import{w as c}from"./index.09294a58.js";const h=c([]);let n=1;const N=c(1),g=c([]);let u=c(1);const m=c(1),M=async(i=!1)=>{let t;if(u.subscribe(s=>{t=s}),!i&&t>1)return;let o;for(let s=0;s<3;s++){const a={method:"GET",url:"https://api.themoviedb.org/3/person/popular?language=en-US&page="+t,headers:{accept:"application/json",Authorization:`Bearer ${d}`}};try{o=await p.request(a);const r=await Promise.all(o.data.results.map(async e=>{const l=await I(e.id);return{...e,actorDetail:l}}));g.update(e=>[...e,...r]),m.set(o.data.total_pages),u.update(e=>e+1)}catch(r){console.error(r)}if(t>=o.data.total_pages)break}},W=async(i,t=!1)=>{t&&(n=1);const o="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzMWViMzMwODNjYjZiNWYzYzllNWMzYjk4MDI0N2ViOSIsInN1YiI6IjYzOTNlMGRmYTBmMWEyMDA4NzM3ZTFmOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.t05hQyBl-PzrZPdgqQawnxWb0AIR40aBagYNIywe6ao",s={method:"GET",url:`https://api.themoviedb.org/3/search/person?language=en-US&query=${i}&page=${n}`,headers:{accept:"application/json",Authorization:`Bearer ${o}`}};try{const a=await p.request(s),r=await Promise.all(a.data.results.map(async e=>{const l=await I(e.id);return{...e,actorDetail:l}}));n===1?(h.set(r),N.set(a.data.total_pages)):h.update(e=>[...e,...r]),n++}catch(a){console.error(a)}},I=async i=>{const t="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzMWViMzMwODNjYjZiNWYzYzllNWMzYjk4MDI0N2ViOSIsInN1YiI6IjYzOTNlMGRmYTBmMWEyMDA4NzM3ZTFmOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.t05hQyBl-PzrZPdgqQawnxWb0AIR40aBagYNIywe6ao",s={method:"GET",url:`https://api.themoviedb.org/3/person/${i}`,headers:{accept:"application/json",Authorization:`Bearer ${t}`}};try{return(await p.request(s)).data}catch(a){return console.error(a),null}};export{g as a,N as b,W as c,I as d,M as g,u as p,h as s,m as t};
