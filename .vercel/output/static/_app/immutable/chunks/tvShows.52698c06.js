import{b as i,V as I}from"./Modal.93cf2df3.js";import{w as l}from"./index.09294a58.js";import{I as d}from"./scheduler.c4785dc3.js";const h=l([]),c=l(1),p=l(1),w=async(n="top_rated",t=!1)=>{const s=t?d(c)+1:1,o=`https://api.themoviedb.org/3/tv/${n}?language=en-US&page=${s}`;try{const e=await i.request({method:"GET",url:o,headers:{accept:"application/json",Authorization:`Bearer ${I}`}}),a=e.data.results;t?(h.update(r=>[...r,...a]),c.update(r=>r+1)):(h.set(a),c.set(1)),p.set(e.data.total_pages)}catch(e){console.error(e)}},y=async(n,t=1)=>{const s="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzMWViMzMwODNjYjZiNWYzYzllNWMzYjk4MDI0N2ViOSIsInN1YiI6IjYzOTNlMGRmYTBmMWEyMDA4NzM3ZTFmOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.t05hQyBl-PzrZPdgqQawnxWb0AIR40aBagYNIywe6ao",o=[];for(let e=0;e<3;e++)o.push({method:"GET",url:`https://api.themoviedb.org/3/discover/tv?with_genres=${n}&language=en-US&page=${t+e}&with_original_language=en`,headers:{accept:"application/json",Authorization:`Bearer ${s}`}});try{return(await i.all(o.map(a=>i.request(a)))).reduce((a,r)=>a.concat(r.data.results),[])}catch(e){return console.error(e),[]}};async function g(n,t=1,s=!1){try{const o="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzMWViMzMwODNjYjZiNWYzYzllNWMzYjk4MDI0N2ViOSIsInN1YiI6IjYzOTNlMGRmYTBmMWEyMDA4NzM3ZTFmOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.t05hQyBl-PzrZPdgqQawnxWb0AIR40aBagYNIywe6ao",e=`https://api.themoviedb.org/3/search/tv?query=${n}&language=en-US&page=${t}`,a=await i.request({method:"GET",url:e,headers:{accept:"application/json",Authorization:`Bearer ${o}`}}),r=a.data.results;s?h.update(u=>u.concat(r)):h.set(r),p.set(a.data.total_pages),c.set(t)}catch(o){console.error(o)}}const m=n=>{c.update(t=>{const s=t+1;return g(n,s,!0),s})};export{c as a,p as b,y as c,w as g,m as l,g as s,h as t};
