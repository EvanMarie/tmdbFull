import{w as o}from"./index.09294a58.js";import{b as c,V as p}from"./Modal.6c76a5fc.js";import{I as d}from"./scheduler.c4785dc3.js";const g=o([]),l=o(1),h=o([]),u=o(1),m=o(1),_=async(n="popular",a=!1)=>{const r=a?d(l)+1:1,t=`https://api.themoviedb.org/3/movie/${n}?language=en-US&page=${r}`;try{const e=await c.request({method:"GET",url:t,headers:{accept:"application/json",Authorization:`Bearer ${p}`}}),s=e.data.results;a?g.update(i=>[...i,...s]):g.set(s),l.set(e.data.page),m.set(e.data.total_pages)}catch(e){console.error(e)}},$=o(1),y=o(1),w=async(n,a=!1)=>{const r=a?d(u)+1:1,t={method:"GET",url:`https://api.themoviedb.org/3/search/movie?query=${encodeURIComponent(n)}&language=en-US&page=${r}`,headers:{accept:"application/json",Authorization:`Bearer ${p}`}};try{const e=await c.request(t);let s=e.data.results;a?h.update(i=>[...i,...s]):h.set(s),u.set(e.data.page),m.set(e.data.total_pages)}catch(e){console.error(e)}},T=async(n,a=1)=>{const r=[];for(let t=0;t<3;t++)r.push({method:"GET",url:`https://api.themoviedb.org/3/discover/movie?with_genres=${n}&language=en-US&page=${a+t}&with_original_language=en`,headers:{accept:"application/json",Authorization:`Bearer ${p}`}});try{return(await c.all(r.map(e=>c.request(e)))).reduce((e,s)=>e.concat(s.data.results),[])}catch(t){return console.error(t),[]}};export{l as a,T as b,$ as c,y as d,h as e,w as f,_ as g,g as m,u as s,m as t};
