import{s as U,f as M,g as N,r as V,j as B,i as k,u as D,d as b,a as F,e as O,h as z,c as E,x as T,F as G,y as H,O as re,z as ne,o as ae,J as le}from"../chunks/scheduler.c4785dc3.js";import{S as j,i as q,b as y,d as P,m as S,g as J,t as d,c as Q,a as m,e as I}from"../chunks/index.42f95a44.js";import{C as oe,R as se,e as K,M as ce,L as ie,a as fe,P as ue}from"../chunks/Modal.93cf2df3.js";import{s as W,b as pe,c as X}from"../chunks/popularPeople.38d25204.js";import{p as Y}from"../chunks/prioritizeImages.97612009.js";function me(s){let e,n="go";return{c(){e=M("button"),e.textContent=n,this.h()},l(t){e=N(t,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),V(e)!=="svelte-5txd1v"&&(e.textContent=n),this.h()},h(){B(e,"type","submit"),B(e,"class","button-styles")},m(t,o){k(t,e,o)},p:D,i:D,o:D,d(t){t&&b(e)}}}class _e extends j{constructor(e){super(),q(this,e,null,me,U,{})}}function Z(s,e,n){const t=s.slice();return t[11]=e[n],t}function $e(s){let e,n="No search results to display.";return{c(){e=M("p"),e.textContent=n},l(t){e=N(t,"P",{"data-svelte-h":!0}),V(e)!=="svelte-1v04lu8"&&(e.textContent=n)},m(t,o){k(t,e,o)},p:D,i:D,o:D,d(t){t&&b(e)}}}function de(s){let e,n,t,o,l,u;e=new oe({props:{$$slots:{default:[he]},$$scope:{ctx:s}}}),t=new se({});let r=s[2].length>0&&s[1]<s[3]&&te(s);return{c(){y(e.$$.fragment),n=F(),y(t.$$.fragment),o=F(),r&&r.c(),l=O()},l(a){P(e.$$.fragment,a),n=E(a),P(t.$$.fragment,a),o=E(a),r&&r.l(a),l=O()},m(a,c){S(e,a,c),k(a,n,c),S(t,a,c),k(a,o,c),r&&r.m(a,c),k(a,l,c),u=!0},p(a,c){const i={};c&16432&&(i.$$scope={dirty:c,ctx:a}),e.$set(i),a[2].length>0&&a[1]<a[3]?r?(r.p(a,c),c&14&&m(r,1)):(r=te(a),r.c(),m(r,1),r.m(l.parentNode,l)):r&&(J(),d(r,1,1,()=>{r=null}),Q())},i(a){u||(m(e.$$.fragment,a),m(t.$$.fragment,a),m(r),u=!0)},o(a){d(e.$$.fragment,a),d(t.$$.fragment,a),d(r),u=!1},d(a){a&&(b(n),b(o),b(l)),I(e,a),I(t,a),r&&r.d(a)}}}function ee(s){let e,n;return e=new fe({props:{item:s[11]}}),e.$on("itemClick",s[6]),{c(){y(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,o){const l={};o&16&&(l.item=t[11]),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function he(s){let e,n,t,o=K(s[4].sort(Y)),l=[];for(let r=0;r<o.length;r+=1)l[r]=ee(Z(s,o,r));const u=r=>d(l[r],1,1,()=>{l[r]=null});return n=new ce({props:{selectedItem:s[5],close:s[7]}}),{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=F(),y(n.$$.fragment)},l(r){for(let a=0;a<l.length;a+=1)l[a].l(r);e=E(r),P(n.$$.fragment,r)},m(r,a){for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(r,a);k(r,e,a),S(n,r,a),t=!0},p(r,a){if(a&80){o=K(r[4].sort(Y));let i;for(i=0;i<o.length;i+=1){const p=Z(r,o,i);l[i]?(l[i].p(p,a),m(l[i],1)):(l[i]=ee(p),l[i].c(),m(l[i],1),l[i].m(e.parentNode,e))}for(J(),i=o.length;i<l.length;i+=1)u(i);Q()}const c={};a&32&&(c.selectedItem=r[5]),n.$set(c)},i(r){if(!t){for(let a=0;a<o.length;a+=1)m(l[a]);m(n.$$.fragment,r),t=!0}},o(r){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)d(l[a]);d(n.$$.fragment,r),t=!1},d(r){r&&b(e),le(l,r),I(n,r)}}}function te(s){let e,n;return e=new ie({props:{onClick:s[9]}}),{c(){y(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p:D,i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function ge(s){let e,n,t="Search People",o,l,u,r,a,c,i,p,_,v,h,g,C;c=new _e({});const x=[de,$e],w=[];function A(f,$){return f[2].length>0?0:1}return p=A(s),_=w[p]=x[p](s),{c(){e=M("div"),n=M("p"),n.textContent=t,o=F(),l=M("form"),u=M("div"),r=M("input"),a=F(),y(c.$$.fragment),i=F(),_.c(),v=O(),this.h()},l(f){e=N(f,"DIV",{class:!0});var $=z(e);n=N($,"P",{"data-svelte-h":!0}),V(n)!=="svelte-osw48v"&&(n.textContent=t),o=E($),l=N($,"FORM",{});var R=z(l);u=N(R,"DIV",{class:!0});var L=z(u);r=N(L,"INPUT",{type:!0,placeholder:!0}),a=E(L),P(c.$$.fragment,L),L.forEach(b),R.forEach(b),$.forEach(b),i=E(f),_.l(f),v=O(),this.h()},h(){B(r,"type","text"),B(r,"placeholder","Search for an actor..."),B(u,"class","input-and-button"),B(e,"class","page-header-container")},m(f,$){k(f,e,$),T(e,n),T(e,o),T(e,l),T(l,u),T(u,r),G(r,s[0]),T(u,a),S(c,u,null),k(f,i,$),w[p].m(f,$),k(f,v,$),h=!0,g||(C=[H(r,"input",s[10]),H(l,"submit",re(s[8]))],g=!0)},p(f,[$]){$&1&&r.value!==f[0]&&G(r,f[0]);let R=p;p=A(f),p===R?w[p].p(f,$):(J(),d(w[R],1,1,()=>{w[R]=null}),Q(),_=w[p],_?_.p(f,$):(_=w[p]=x[p](f),_.c()),m(_,1),_.m(v.parentNode,v))},i(f){h||(m(c.$$.fragment,f),m(_),h=!0)},o(f){d(c.$$.fragment,f),d(_),h=!1},d(f){f&&(b(e),b(i),b(v)),I(c),w[p].d(f),g=!1,ne(C)}}}function be(s,e,n){let t="Chaplin",o=1,l=[],u=1,r=[];function a(h){n(5,c=h.detail.item)}let c=null;function i(){n(5,c=null)}W.subscribe(h=>{n(2,l=h)}),ae(async()=>{await p()}),pe.subscribe(h=>n(3,u=h));const p=async()=>{n(2,l=[]),await X(t,!0)},_=async()=>{n(1,o++,o),await X(t)};W.subscribe(h=>{n(4,r=h.map(g=>({id:g.id,datatype:"person",title:g.name,popularity:g.popularity,actorDetail:g.actorDetail,knownFor:g.known_for.map(C=>({id:C.id,title:C.title,poster_path:C.backdrop_path,rating:C.vote_average,release_date:C.release_date})),gender:g.gender===1?"Female":"Male",known_for_department:g.known_for_department,backdrop_path:g.profile_path})))});function v(){t=this.value,n(0,t)}return[t,o,l,u,r,c,a,i,p,_,v]}class ke extends j{constructor(e){super(),q(this,e,be,ge,U,{})}}function ve(s){let e,n;return e=new ke({}),{c(){y(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Ce(s){let e,n;return e=new ue({props:{$$slots:{default:[ve]},$$scope:{ctx:s}}}),{c(){y(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,o){S(e,t,o),n=!0},p(t,[o]){const l={};o&1&&(l.$$scope={dirty:o,ctx:t}),e.$set(l)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}class Me extends j{constructor(e){super(),q(this,e,null,Ce,U,{})}}export{Me as component};
