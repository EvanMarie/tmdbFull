import{s as P,f as N,l as X,g as y,h as z,m as x,d as g,F as B,G as te,i as I,x as S,H as A,y as L,n as ee,u as J,J as ne,z as re,M as le,o as ae,L as se,a as T,e as w,r as oe,c as E,j as Z}from"../chunks/scheduler.c4785dc3.js";import{S as W,i as Y,b as k,d as b,m as C,a as h,g as V,t as $,c as j,e as G}from"../chunks/index.42f95a44.js";import{e as O,b as ie,C as ce,R as fe,u as ue,L as _e,a as me,M as pe,o as ge,P as he}from"../chunks/Modal.93cf2df3.js";import{c as de}from"../chunks/tvShows.52698c06.js";import{p as Q}from"../chunks/prioritizeImages.97612009.js";function R(i,e,n){const t=i.slice();return t[7]=e[n],t}function q(i){let e,n=i[7].name+"",t,o;return{c(){e=N("option"),t=X(n),this.h()},l(s){e=y(s,"OPTION",{});var c=z(e);t=x(c,n),c.forEach(g),this.h()},h(){e.__value=o=i[7].id,B(e,e.__value)},m(s,c){I(s,e,c),S(e,t)},p(s,c){c&2&&n!==(n=s[7].name+"")&&ee(t,n),c&2&&o!==(o=s[7].id)&&(e.__value=o,B(e,e.__value))},d(s){s&&g(e)}}}function $e(i){let e,n,t,o,s,c=O(i[1]),u=[];for(let l=0;l<c.length;l+=1)u[l]=q(R(i,c,l));return{c(){e=N("select"),n=N("option"),t=X(i[2]);for(let l=0;l<u.length;l+=1)u[l].c();this.h()},l(l){e=y(l,"SELECT",{});var a=z(e);n=y(a,"OPTION",{});var r=z(n);t=x(r,i[2]),r.forEach(g);for(let m=0;m<u.length;m+=1)u[m].l(a);a.forEach(g),this.h()},h(){n.__value="",B(n,n.__value),i[0]===void 0&&te(()=>i[4].call(e))},m(l,a){I(l,e,a),S(e,n),S(n,t);for(let r=0;r<u.length;r+=1)u[r]&&u[r].m(e,null);A(e,i[0],!0),o||(s=[L(e,"change",i[4]),L(e,"change",i[3])],o=!0)},p(l,[a]){if(a&4&&ee(t,l[2]),a&2){c=O(l[1]);let r;for(r=0;r<c.length;r+=1){const m=R(l,c,r);u[r]?u[r].p(m,a):(u[r]=q(m),u[r].c(),u[r].m(e,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=c.length}a&3&&A(e,l[0])},i:J,o:J,d(l){l&&g(e),ne(u,l),o=!1,re(s)}}}function ve(i,e,n){let{selectedGenre:t=10765}=e,o=[],s="Select a genre";const c=le(),u=r=>{const m=o.find(d=>d.id===r);return m?m.name:"Select a genre"},l=r=>{n(0,t=parseInt(r.target.value,10)),c("genreselect",{genreId:t})};ae(async()=>{const m={method:"GET",url:"https://api.themoviedb.org/3/genre/tv/list?language=en-US",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzMWViMzMwODNjYjZiNWYzYzllNWMzYjk4MDI0N2ViOSIsInN1YiI6IjYzOTNlMGRmYTBmMWEyMDA4NzM3ZTFmOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.t05hQyBl-PzrZPdgqQawnxWb0AIR40aBagYNIywe6ao"}};try{const d=await ie.request(m);n(1,o=d.data.genres),n(2,s=u(t))}catch(d){console.error(d)}});function a(){t=se(this),n(0,t),n(1,o)}return i.$$set=r=>{"selectedGenre"in r&&n(0,t=r.selectedGenre)},[t,o,s,l,a]}class Ie extends W{constructor(e){super(),Y(this,e,ve,$e,P,{selectedGenre:0})}}function F(i,e,n){const t=i.slice();return t[10]=e[n],t}function K(i,e){let n,t,o;return t=new me({props:{item:e[10]}}),t.$on("itemClick",e[7]),{key:i,first:null,c(){n=w(),k(t.$$.fragment),this.h()},l(s){n=w(),b(t.$$.fragment,s),this.h()},h(){this.first=n},m(s,c){I(s,n,c),C(t,s,c),o=!0},p(s,c){e=s;const u={};c&1&&(u.item=e[10]),t.$set(u)},i(s){o||(h(t.$$.fragment,s),o=!0)},o(s){$(t.$$.fragment,s),o=!1},d(s){s&&g(n),G(t,s)}}}function U(i){let e,n;return e=new pe({props:{selectedItem:i[4],close:i[8]}}),{c(){k(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,o){C(e,t,o),n=!0},p(t,o){const s={};o&16&&(s.selectedItem=t[4]),e.$set(s)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function ke(i){let e=[],n=new Map,t,o,s,c=O(i[0].sort(Q));const u=a=>a[10].credits;for(let a=0;a<c.length;a+=1){let r=F(i,c,a),m=u(r);n.set(m,e[a]=K(m,r))}let l=i[4]&&U(i);return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=T(),l&&l.c(),o=w()},l(a){for(let r=0;r<e.length;r+=1)e[r].l(a);t=E(a),l&&l.l(a),o=w()},m(a,r){for(let m=0;m<e.length;m+=1)e[m]&&e[m].m(a,r);I(a,t,r),l&&l.m(a,r),I(a,o,r),s=!0},p(a,r){r&129&&(c=O(a[0].sort(Q)),V(),e=ue(e,r,u,1,a,c,n,t.parentNode,ge,K,t,F),j()),a[4]?l?(l.p(a,r),r&16&&h(l,1)):(l=U(a),l.c(),h(l,1),l.m(o.parentNode,o)):l&&(V(),$(l,1,1,()=>{l=null}),j())},i(a){if(!s){for(let r=0;r<c.length;r+=1)h(e[r]);h(l),s=!0}},o(a){for(let r=0;r<e.length;r+=1)$(e[r]);$(l),s=!1},d(a){a&&(g(t),g(o));for(let r=0;r<e.length;r+=1)e[r].d(a);l&&l.d(a)}}}function H(i){let e,n;return e=new _e({props:{onClick:i[6]}}),{c(){k(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,o){C(e,t,o),n=!0},p:J,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function be(i){let e,n,t="TV Genres",o,s,c,u,l,a,r,m,d,v;c=new Ie({props:{genreId:i[1]}}),c.$on("genreselect",i[5]),l=new ce({props:{$$slots:{default:[ke]},$$scope:{ctx:i}}}),r=new fe({});let _=i[2]&&i[3]&&H(i);return{c(){e=N("div"),n=N("p"),n.textContent=t,o=T(),s=N("div"),k(c.$$.fragment),u=T(),k(l.$$.fragment),a=T(),k(r.$$.fragment),m=T(),_&&_.c(),d=w(),this.h()},l(f){e=y(f,"DIV",{class:!0});var p=z(e);n=y(p,"P",{"data-svelte-h":!0}),oe(n)!=="svelte-wf25py"&&(n.textContent=t),o=E(p),s=y(p,"DIV",{class:!0});var M=z(s);b(c.$$.fragment,M),M.forEach(g),p.forEach(g),u=E(f),b(l.$$.fragment,f),a=E(f),b(r.$$.fragment,f),m=E(f),_&&_.l(f),d=w(),this.h()},h(){Z(s,"class","input-and-button"),Z(e,"class","page-header-container")},m(f,p){I(f,e,p),S(e,n),S(e,o),S(e,s),C(c,s,null),I(f,u,p),C(l,f,p),I(f,a,p),C(r,f,p),I(f,m,p),_&&_.m(f,p),I(f,d,p),v=!0},p(f,[p]){const M={};p&2&&(M.genreId=f[1]),c.$set(M);const D={};p&8209&&(D.$$scope={dirty:p,ctx:f}),l.$set(D),f[2]&&f[3]?_?(_.p(f,p),p&12&&h(_,1)):(_=H(f),_.c(),h(_,1),_.m(d.parentNode,d)):_&&(V(),$(_,1,1,()=>{_=null}),j())},i(f){v||(h(c.$$.fragment,f),h(l.$$.fragment,f),h(r.$$.fragment,f),h(_),v=!0)},o(f){$(c.$$.fragment,f),$(l.$$.fragment,f),$(r.$$.fragment,f),$(_),v=!1},d(f){f&&(g(e),g(u),g(a),g(m),g(d)),G(c),G(l,f),G(r,f),_&&_.d(f)}}}function Ce(i,e,n){let t=[],o=10765,s=1,c=!1,u=!0,l=null;const a=v=>{n(0,t=[]),s=1,n(1,o=v.detail.genreId),n(2,c=!1),n(3,u=!0),r()},r=async()=>{const v=await de(o,s);n(0,t=[...t,...v.map(_=>({title:_.name,id:_.id,datatype:"tv",genre_ids:_.genre_ids,rating:_.vote_average,popularity:_.popularity,backdrop_path:_.poster_path,overview:_.overview,release_date:_.first_air_date,credits:_.id}))]),n(2,c=!0),v.length<60&&n(3,u=!1),s+=3};r();function m(v){n(4,l=v.detail.item)}function d(){n(4,l=null)}return[t,o,c,u,l,a,r,m,d]}class Ge extends W{constructor(e){super(),Y(this,e,Ce,be,P,{})}}function Ne(i){let e,n;return e=new Ge({}),{c(){k(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,o){C(e,t,o),n=!0},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function ye(i){let e,n;return e=new he({props:{$$slots:{default:[Ne]},$$scope:{ctx:i}}}),{c(){k(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,o){C(e,t,o),n=!0},p(t,[o]){const s={};o&1&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}class ze extends W{constructor(e){super(),Y(this,e,null,ye,P,{})}}export{ze as component};
